webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var u=n(1),o=r(u),l=n(158),a=n(176),c=n(177),s=r(c),i=n(179),d=r(i);n(188);var f=n(192),p=n(196),_=r(p),E=n(197),v=r(E),T=n(301),g=r(T),m=n(302),y=r(m),k=(0,s["default"])(d["default"]);k.dispatch((0,f.getStorageData)()),(0,a.render)(o["default"].createElement(l.Provider,{store:k},o["default"].createElement("section",null,o["default"].createElement("h1",null,"Toggl Report Using React.js"),o["default"].createElement(_["default"],null),o["default"].createElement(v["default"],null),o["default"].createElement(g["default"],null),o["default"].createElement(y["default"],null))),document.getElementById("app"))},177:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){return c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=n(164),l=n(178),a=r(l),c=(0,o.compose)((0,o.applyMiddleware)(a["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e})(o.createStore)},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(180),o=n(184),l=r(o),a=n(187),c=r(a),s=(0,u.combineReducers)({settings:l["default"],report:c["default"]});t["default"]=s},184:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(182),o=r(u),l=n(185),a=o["default"].Map().set("token",void 0).set("date",void 0).set("workHours",8),c=function(){var e=arguments.length<=0||void 0===arguments[0]?a:arguments[0],t=arguments[1];switch(t.type){case l.ActionTypes.GET_STORAGE_DATA:return e.set("token",t.token).set("workHours",t.hours);case l.ActionTypes.SET_API_TOKEN:return e.set("token",t.token);case l.ActionTypes.SET_WORK_HOURS:return e.set("workHours",t.hours);case l.ActionTypes.SET_DATE:return e.set("date",t.date);default:return e}};t["default"]=c},185:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0;var u=n(186),o=r(u);t.ActionTypes=(0,o["default"])({GET_STORAGE_DATA:null,SET_API_TOKEN:null,SET_DATE:null,REPORT_SUCCESS:null,REPORT_ERROR:null,SET_WORK_HOURS:null})},187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(182),o=r(u),l=n(185),a=o["default"].List(),c=function(){var e=arguments.length<=0||void 0===arguments[0]?a:arguments[0],t=arguments[1];switch(t.type){case l.ActionTypes.REPORT_SUCCESS:return o["default"].List(t.report);case l.ActionTypes.REPORT_ERROR:return o["default"].List();default:return e}};t["default"]=c},188:function(e,t){},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportError=t.reportSuccess=t.setDate=t.setWorkHours=t.setApiToken=t.getStorageData=void 0;var r=n(185),u=n(193),o=function(e,t,n){var r=n.token||t.get("settings").get("token"),o=n.workHours||t.get("settings").get("workHours"),l=n.date||t.get("settings").get("date");return r&&32===r.length&&l&&o?e((0,u.toggleReport)(r,l,o)):Promise.resolve()};t.getStorageData=function(){var e=localStorage.getItem("api-token"),t=localStorage.getItem("work-hours");return{type:r.ActionTypes.GET_STORAGE_DATA,token:e,hours:t}},t.setApiToken=function(e){return function(t,n){return localStorage.setItem("api-token",e),t({type:r.ActionTypes.SET_API_TOKEN,token:e}),o(t,n(),{token:e})}},t.setWorkHours=function(e){return function(t,n){return localStorage.setItem("work-hours",e),t({type:r.ActionTypes.SET_WORK_HOURS,hours:e}),o(t,n(),{hours:e})}},t.setDate=function(e){return function(t,n){return t({type:r.ActionTypes.SET_DATE,date:e}),o(t,n(),{date:e})}},t.reportSuccess=function(e){return{type:r.ActionTypes.REPORT_SUCCESS,report:e}},t.reportError=function(e){return{type:r.ActionTypes.REPORT_ERROR,error:e}}},193:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleReport=void 0;var o=n(194),l=u(o),a=n(192),c=r(a);t.toggleReport=function(e,t,n){return function(r){var u="http://nestalk-toggl-fsharp.azurewebsites.net/?workhours="+n+"&date="+t.format("YYYY-MM-DD")+"&token="+e;return(0,l["default"])(u,{mode:"cors"}).then(function(e){return e.ok?e.json():Promise.reject(e.statusText)}).then(function(e){return r(c.reportSuccess(e))},function(e){return r(c.reportError(e))})}}},196:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),l=n(158),a=n(192),c=function(e){var t=e.token,n=e.setApiToken;return o["default"].createElement("div",{className:"token-input"},o["default"].createElement("label",null,"Api Token: "),o["default"].createElement("input",{defaultValue:t,onChange:function(e){return n(e.target.value)}}))},s=function(e){return{token:e.get("settings").get("token")}},i=function(e){return{setApiToken:function(t){e((0,a.setApiToken)(t))}}},d=(0,l.connect)(s,i)(c);t["default"]=d},197:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),l=n(158),a=n(198),c=r(a),s=n(192);n(299);var i=function(e){var t=e.date,n=e.setDate;return o["default"].createElement("div",{className:"date-input"},o["default"].createElement("label",null,"Date: "),o["default"].createElement(c["default"],{dateFormat:"DD/MM/YYYY",selected:t,onChange:n}))},d=function(e){return{date:e.get("settings").get("date")}},f=function(e){return{setDate:function(t){e((0,s.setDate)(t))}}},p=(0,l.connect)(d,f)(i);t["default"]=p},299:function(e,t){},301:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),l=n(158),a=n(192),c=function(e){var t=e.hours,n=e.setWorkHours;return o["default"].createElement("div",{className:"token-input"},o["default"].createElement("label",null,"Work Hours: "),o["default"].createElement("input",{type:"number",defaultValue:t,onChange:function(e){return n(e.target.value)}}))},s=function(e){return{hours:e.get("settings").get("workHours")}},i=function(e){return{setWorkHours:function(t){e((0,a.setWorkHours)(t))}}},d=(0,l.connect)(s,i)(c);t["default"]=d},302:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),l=n(158),a=function(e){var t="",n=/P(?:(\d*)?D)?T(?:(\d*)?H)?(?:(\d*)?M)?(?:(\d*)?S)?/g,r=n.exec(e);return null==r?t:("undefined"!=typeof r[1]&&(t+=r[1]+" Days, "),"undefined"!=typeof r[2]&&(t+=r[2]+" Hours, "),"undefined"!=typeof r[3]&&(t+=r[3]+" Minutes"),t)},c=function(e){var t=e.report,n=function(e,t){return o["default"].createElement("tr",{key:t},o["default"].createElement("td",null,e.Client),o["default"].createElement("td",null,e.Activity),o["default"].createElement("td",null,a(e.Duration)))};return o["default"].createElement("div",{className:"report"},o["default"].createElement("h2",null,"Details "),o["default"].createElement("table",null,o["default"].createElement("thead",null,o["default"].createElement("tr",null,o["default"].createElement("th",null,"Client"),o["default"].createElement("th",null,"Activity"),o["default"].createElement("th",null,"Duration"))),o["default"].createElement("tbody",null,t.map(n))))},s=function(e){return{report:e.get("report").toJS()}},i=function(e){return{}},d=(0,l.connect)(s,i)(c);t["default"]=d}});